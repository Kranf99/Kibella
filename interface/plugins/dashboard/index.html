<div dashboard-app class="app-container dashboard-container">
  <navbar ng-show="!appEmbedded">
    <span class="name" ng-if="dash.id">
      <i aria-hidden="true" class="fa fa-th"></i>
      {{ dash.title }}
    </span>
		<span class="separator" ng-if="dash.id"></span>
    <form name="queryInput"
      class="fill inline-form"
      ng-show="user"
      ng-submit="filterResults()"
      role="form">

      <div class="typeahead" kbn-typeahead="dashboard">
        <div class="input-group"
          ng-class="queryInput.$invalid ? 'has-error' : ''">

          <input type="text"
            placeholder="Filter..."
            aria-label="Filter input"
            class="form-control"
            ng-model="state.query"
            input-focus
            kbn-typeahead-input
            validate-query>
          <button type="submit" class="btn btn-default" ng-disabled="queryInput.$invalid" aria-label="Filter dashboards">
            <span aria-hidden="true" class="fa fa-filter"></span>
          </button>
        </div>

        <kbn-typeahead-items></kbn-typeahead-items>
      </div>

    </form>

    <div ng-hide="user" class="not_logged_in"><a href="{{ dirname }}/public/users/login" target="_blank">You are in read-only mode, sign in to use all Kibella's functionalities.</a></div>

    <div class="button-group" role="toolbar" ng-show="user">
			<kbn-tooltip text="New Dashboard" placement="bottom" append-to-body="1">
        <button ng-click="newDashboard()" aria-label="New Dashboard" class="big">
          <i aria-hidden="true" class="fa fa-plus"></i>
					<!--New-->
        </button>
			</kbn-tooltip>
			<kbn-tooltip text="Save Dashboard" placement="bottom" append-to-body="1">
        <button
          aria-label="Save Dashboard"
          aria-haspopup="true"
          aria-expanded="{{ configTemplate.is('save') }}"
          ng-class="{active: configTemplate.is('save')}"
          ng-click="configTemplate.toggle('save');"
					class="big">
          <i aria-hidden="true" class="fa fa-floppy-o"></i>
					<!--Save-->
        </button>
			</kbn-tooltip>
			<kbn-tooltip text="Load Saved Dashboard" placement="bottom" append-to-body="1">
        <button
          aria-label="Load Saved Dashboard"
          aria-haspopup="true"
          aria-expanded="{{ configTemplate.is('load') }}"
          ng-class="{active: configTemplate.is('load')}"
          ng-click="configTemplate.toggle('load');"
					class="big">
          <i aria-hidden="true" class="fa fa-folder-open-o"></i>
					<!--Open-->
        </button>
			</kbn-tooltip>
			<kbn-tooltip text="Share Dashboard" placement="bottom" append-to-body="1">
        <button
          aria-label="Share Dashboard"
          aria-haspopup="true"
          aria-expanded="{{ configTemplate.is('share') }}"
          ng-class="{active: configTemplate.is('share')}"
          ng-click="configTemplate.toggle('share');"
					class="big">
          <i aria-hidden="true" class="fa fa-share-alt"></i>
					<!--Share-->
        </button>
      </kbn-tooltip>
      <kbn-tooltip text="Settings" placement="bottom" append-to-body="1">
        <button
          aria-label="Settings"
          aria-haspopup="true"
          aria-expanded="{{ configTemplate.is('settings') }}"
          ng-class="{active: configTemplate.is('settings')}"
          ng-click="configTemplate.toggle('settings');"
          class="big">
          <i aria-hidden="true" class="fa fa-cog"></i>

          <!--Share-->
        </button>
			</kbn-tooltip>
        <button
          aria-label="Add"
          aria-haspopup="true"
          aria-expanded="{{ configTemplate.is('pickVis') }}"
          ng-class="{active: configTemplate.is('pickVis')}"
          ng-click="configTemplate.toggle('pickVis'); onToggle();"
          class="inverse-color">
          
          <!--<i aria-hidden="true" class="fa fa-cube"></i>-->
          <svg
            style="height: 20px;
            max-width: 20px;
            float: left;
            vertical-align: middle;
            margin-right: 10px;"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="9.8589878mm"
            height="11.384176mm"
            viewBox="0 0 5.9153923 6.8305057"
            version="1.1"
            id="svg8">
            <defs
              id="defs2">
              <linearGradient
                id="linearGradient6220">
                <stop
                  style="stop-color:#9745ba;stop-opacity:0.89411765"
                  offset="0"
                  id="stop6216" />
                <stop
                  style="stop-color:#d473ff;stop-opacity:1"
                  offset="1"
                  id="stop6218" />
              </linearGradient>
              <linearGradient
                xlink:href="#linearGradient6220"
                id="linearGradient6252"
                gradientUnits="userSpaceOnUse"
                x1="112.58333"
                y1="-1378"
                x2="95.262817"
                y2="-1388"
                gradientTransform="matrix(-0.4374999,-0.75777206,0.75777206,-0.4374999,1197.3881,-1918.0624)" />
            </defs>
            <metadata
              id="metadata5">
              <rdf:RDF>
                <cc:Work
                  rdf:about="">
                  <dc:format>image/svg+xml</dc:format>
                  <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                  <dc:title></dc:title>
                </cc:Work>
              </rdf:RDF>
            </metadata>
            <g
              id="layer1"
              transform="translate(-139.97663,-77.933117)">
              <g
                transform="matrix(0.19515731,0,0,0.19515731,122.65298,351.25093)"
                id="g6353-5-6">
                <path
                  style="fill:#9b47bf;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="m 103.92307,-1383 15.15545,-8.75 v 17.5 l -15.15545,8.75 z"
                  id="path6347-61-2" />
                <path
                  id="path6349-1-1"
                  d="m 103.92307,-1383 -15.155443,-8.75 15.155443,-8.75 15.15544,8.75 z"
                  style="fill:url(#linearGradient6252);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
                <path
                  style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="m 103.92307,-1383 v 17.5 l -15.155445,-8.75 1e-6,-17.5 z"
                  id="path6351-4-2" />
              </g>
            </g>
          </svg>

          Add Visualization
        </button>
    </div>
  </navbar>

  <config config-template="configTemplate" config-object="opts"></config>

  <filter-bar state="state"></filter-bar>

  <div ng-show="!state.panels.length" class="text-center start-screen">
    <!--<i aria-hidden="true" class="main-icon animated rotateIn fa fa-rocket"></i>-->
		<div class="animated fadeIn">

      <svg
      xmlns:dc="http://purl.org/dc/elements/1.1/"
      xmlns:cc="http://creativecommons.org/ns#"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
      xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
      width="60.488079mm"
      height="58.374687mm"
      viewBox="0 0 60.488079 58.374687"
      version="1.1"
      id="svg8"
      sodipodi:docname="assemble.svg"
      inkscape:version="0.92.4 (5da689c313, 2019-01-14)">
     <sodipodi:namedview
        pagecolor="#ffffff"
        bordercolor="#666666"
        borderopacity="1"
        objecttolerance="10"
        gridtolerance="10"
        guidetolerance="10"
        inkscape:pageopacity="0"
        inkscape:pageshadow="2"
        inkscape:window-width="1600"
        inkscape:window-height="838"
        id="namedview4690"
        showgrid="false"
        inkscape:zoom="1.0696703"
        inkscape:cx="167.40299"
        inkscape:cy="89.097059"
        inkscape:window-x="-8"
        inkscape:window-y="-8"
        inkscape:window-maximized="1"
        inkscape:current-layer="g6168-0" />
     <defs
        id="defs2">
       <linearGradient
          id="linearGradient4746">
         <stop
            style="stop-color:#d473ff;stop-opacity:1;"
            offset="0"
            id="stop4742" />
         <stop
            style="stop-color:#9745ba;stop-opacity:1"
            offset="1"
            id="stop4744" />
       </linearGradient>
       <linearGradient
          id="linearGradient4740">
         <stop
            style="stop-color:#d473ff;stop-opacity:1;"
            offset="0"
            id="stop4736" />
         <stop
            style="stop-color:#9745ba;stop-opacity:1"
            offset="1"
            id="stop4738" />
       </linearGradient>
       <linearGradient
          id="linearGradient6220">
         <stop
            id="stop6216"
            offset="0"
            style="stop-color:#9745ba;stop-opacity:0.89411765" />
         <stop
            id="stop6218"
            offset="1"
            style="stop-color:#d473ff;stop-opacity:1" />
       </linearGradient>
       <linearGradient
          id="linearGradient5651">
         <stop
            id="stop5647"
            offset="0"
            style="stop-color:#d473ff;stop-opacity:1;" />
         <stop
            id="stop5649"
            offset="1"
            style="stop-color:#9745ba;stop-opacity:0.89411765" />
       </linearGradient>
       <linearGradient
          gradientTransform="translate(-3.4638789,8.4998417)"
          y2="-1528"
          x2="77.942284"
          y1="-1502.9999"
          x1="77.941849"
          gradientUnits="userSpaceOnUse"
          id="linearGradient6170-9"
          xlink:href="#linearGradient4746" />
       <linearGradient
          y2="-1388"
          x2="95.262817"
          y1="-1378"
          x1="112.58333"
          gradientTransform="matrix(-0.4374999,-0.75777206,0.75777206,-0.4374999,1197.3881,-1918.0624)"
          gradientUnits="userSpaceOnUse"
          id="linearGradient14383"
          xlink:href="#linearGradient6220" />
       <linearGradient
          xlink:href="#linearGradient6220"
          id="linearGradient3795"
          gradientUnits="userSpaceOnUse"
          gradientTransform="matrix(-0.4374999,-0.75777206,0.75777206,-0.4374999,1197.3881,-1918.0624)"
          x1="112.58333"
          y1="-1378"
          x2="95.262817"
          y2="-1388" />
       <linearGradient
          xlink:href="#linearGradient6220"
          id="linearGradient3797"
          gradientUnits="userSpaceOnUse"
          gradientTransform="matrix(-0.4374999,-0.75777206,0.75777206,-0.4374999,1197.3881,-1918.0624)"
          x1="112.58333"
          y1="-1378"
          x2="95.262817"
          y2="-1388" />
       <linearGradient
          gradientTransform="translate(-3.463877,8.4997954)"
          y2="-1528"
          x2="77.942284"
          y1="-1502.9999"
          x1="77.941849"
          gradientUnits="userSpaceOnUse"
          id="linearGradient6170-9-8"
          xlink:href="#linearGradient5651" />
       <linearGradient
          gradientTransform="translate(-3.463877,8.4997506)"
          y2="-1528"
          x2="77.942284"
          y1="-1502.9999"
          x1="77.941849"
          gradientUnits="userSpaceOnUse"
          id="linearGradient6170-9-7"
          xlink:href="#linearGradient4740" />
       <linearGradient
          xlink:href="#linearGradient6220"
          id="linearGradient3881"
          gradientUnits="userSpaceOnUse"
          gradientTransform="matrix(-0.4374999,-0.75777206,0.75777206,-0.4374999,1197.3881,-1918.0624)"
          x1="112.58333"
          y1="-1378"
          x2="95.262817"
          y2="-1388" />
       <linearGradient
          gradientTransform="translate(-44.592001,7.0239835)"
          y2="-1528"
          x2="77.942284"
          y1="-1502.9999"
          x1="77.941849"
          gradientUnits="userSpaceOnUse"
          id="linearGradient6170-9-0"
          xlink:href="#linearGradient5651" />
       <linearGradient
          gradientTransform="translate(-3.4638769,8.4997724)"
          y2="-1528"
          x2="77.942284"
          y1="-1502.9999"
          x1="77.941849"
          gradientUnits="userSpaceOnUse"
          id="linearGradient6170-9-7-4"
          xlink:href="#linearGradient4746" />
     </defs>
     <metadata
        id="metadata5">
       <rdf:RDF>
         <cc:Work
            rdf:about="">
           <dc:format>image/svg+xml</dc:format>
           <dc:type
              rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
           <dc:title />
         </cc:Work>
       </rdf:RDF>
     </metadata>
     <g
        id="layer1"
        transform="translate(-30.988101,-21.754041)">
       <g
          transform="translate(-182.46135,1392.5273)"
          id="layer1-0">
         <g
            transform="matrix(1.3969123,0,0,1.3969123,139.6543,768.83159)"
            id="g6168-0">
           <path
              style="fill:url(#linearGradient6170-9);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
              d="m 74.477973,-1519.5001 -21.65064,12.5 21.65064,12.5 21.65063,-12.5 z"
              id="path5633-3" />
           <path
              id="path14204"
              d="m 74.47797,-1509.5001 v -5 l -4.330128,2.5 z"
              style="fill:#9e49c1;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14204-0"
              d="m 74.47797,-1499.5001 v -5 l -4.330128,2.5 z"
              style="fill:#9e49c1;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14204-7-6"
              d="m 74.477969,-1499.5001 v -5 l 4.330128,2.5 z"
              style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14204-7"
              d="m 74.477969,-1509.5001 v -5 l 4.330128,2.5 z"
              style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <g
              id="cube-top"
              transform="matrix(0.28400005,0,0,0.28400005,44.963816,-1119.5308)">
             <path
                id="path6347-61"
                d="m 103.92307,-1383 15.15545,-8.75 v 17.5 l -15.15545,8.75 z"
                style="fill:#9b47bf;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                inkscape:connector-curvature="0" />
             <path
                style="fill:url(#linearGradient3795);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                d="m 103.92307,-1383 -15.155443,-8.75 15.155443,-8.75 15.15544,8.75 z"
                id="path6349-1"
                inkscape:connector-curvature="0" />
             <path
                id="path6351-4"
                d="m 103.92307,-1383 v 17.5 l -15.155445,-8.75 1e-6,-17.5 z"
                style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                inkscape:connector-curvature="0" />
           </g>
           <path
              style="fill:url(#linearGradient6170-9-7-4);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
              d="m 65.817715,-1509.5001 8.660254,5 8.660255,-5 -4.330127,-2.5 -4.330128,2.5 -4.330127,-2.5 z"
              id="path5633-3-0-9" />
           <path
              id="path14204-9"
              d="m 83.138225,-1504.5001 v -5 l -4.330128,2.5 z"
              style="fill:#9e49c1;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14204-7-4"
              d="m 83.138224,-1504.5001 v -5 l 4.330128,2.5 z"
              style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14204-94"
              d="m 65.817716,-1504.5001 v -5 l -4.330128,2.5 z"
              style="fill:#9e49c1;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14204-7-2"
              d="m 65.817715,-1504.5001 v -5 l 4.330128,2.5 z"
              style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14263"
              d="m 52.827333,-1507.0001 v 4.6212 l 21.650637,12.5 v -4.6212 z"
              style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <path
              id="path14265"
              d="m 74.47797,-1489.8789 v -4.6212 l 21.650635,-12.5 v 4.6212 z"
              style="fill:#9b48bf;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
           <g
              transform="matrix(0.28400005,0,0,0.28400005,36.303559,-1114.6368)"
              id="cube-left">
             <path
                style="fill:#9b46bf;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                d="m 103.92307,-1383 15.15545,-8.75 v 17.5 l -15.15545,8.75 z"
                id="path14415"
                inkscape:connector-curvature="0" />
             <path
                id="path14417"
                d="m 103.92307,-1383 -15.155443,-8.75 15.155443,-8.75 15.15544,8.75 z"
                style="fill:url(#linearGradient3797);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                inkscape:connector-curvature="0" />
             <path
                style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                d="m 103.92307,-1383 v 17.5 l -15.155445,-8.75 1e-6,-17.5 z"
                id="path14419"
                inkscape:connector-curvature="0" />
           </g>
           <g
              transform="matrix(0.28400005,0,0,0.28400005,53.624067,-1114.834)"
              id="cube-right">
             <path
                style="fill:#9b47bf;fill-opacity:0.99607843;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                d="m 103.92307,-1383 15.15545,-8.75 v 17.5 l -15.15545,8.75 z"
                id="path14491"
                inkscape:connector-curvature="0" />
             <path
                id="path14493"
                d="m 103.92307,-1383 -15.155443,-8.75 15.155443,-8.75 15.15544,8.75 z"
                style="fill:url(#linearGradient14383);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                inkscape:connector-curvature="0" />
             <path
                style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                d="m 103.92307,-1383 v 17.5 l -15.155445,-8.75 1e-6,-17.5 z"
                id="path14495"
                inkscape:connector-curvature="0" />
           </g>
           <g
              transform="matrix(0.28400004,0,0,0.28400004,44.963814,-1109.834)"
              id="cube-bottom">
             <path
                style="fill:#9b46bf;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                d="m 103.92307,-1383 15.15545,-8.75 v 17.5 l -15.15545,8.75 z"
                id="path14415-2"
                inkscape:connector-curvature="0" />
             <path
                id="path14417-5"
                d="m 103.92307,-1383 -15.155443,-8.75 15.155443,-8.75 15.15544,8.75 z"
                style="fill:url(#linearGradient3881);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                inkscape:connector-curvature="0" />
             <path
                style="fill:#7e409a;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.23151036px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                d="m 103.92307,-1383 v 17.5 l -15.155445,-8.75 1e-6,-17.5 z"
                id="path14419-7"
                inkscape:connector-curvature="0" />
           </g>
           <path
              style="fill:url(#linearGradient6170-9-7);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
              d="m 52.827335,-1507.0001 21.650635,12.5 21.650634,-12.5 h -8.660252 l -4.330128,2.5 -4.304146,-2.515 -0.02598,5.015 -4.330127,2.5 -4.304155,-2.485 -0.02597,-5.015 -4.330127,2.5 -4.330128,-2.5 z"
              id="path5633-3-0" />
         </g>
       </g>
     </g>
      </svg>

			<h2>Let's assemble your dashboard !</h2>
    	<p style="color: #888">Click the <a style="font-size:15px; padding: 0 5px;" ng-click="configTemplate.open('pickVis'); toggleAddVisualization = !toggleAddVisualization" aria-label="Add visualization">"Add Visualization"</a> button in the menu bar above to add a visualization to the dashboard. <br/>If you haven't setup a visualization yet visit the <a href="#/visualize" title="Visualize">"Visualize"</a> tab to create your first visualization.</p>
		</div>
  </div>

	<div class="full-background" ng-show="state.panels.length"></div>
  <dashboard-grid style="max-width: 100%;" ng-show="state.panels.length"></dashboard-grid>
</div>
