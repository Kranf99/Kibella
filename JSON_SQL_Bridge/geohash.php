<?php namespace Obl; class Obl { private static $la="0123456789bcdefghjkmnpqrstuvwxyz"; private static $lbm=array(020,8,4,2,1); public static function Obm($lbn,$Obn,$lbo=NULL) { $Obo=strlen($lbn)-strpos($lbn,"."); $lbp=strlen($Obn)-strpos($Obn,"."); $lbo=$lbo ? : pow(012,-max($Obo-1,$lbp-1,0))/2; $Obp=-0264; $lbq=0264; $Obq=-0132; $lbr=0132; $Obr=array(); $lbs=0264; $Obs=TRUE; $lbt=0; $Obt=0; while ($lbs>=$lbo) { if ($Obs) { $lbu=($Obp+$lbq)/2; if ($Obn>$lbu) { $lbt |= self::$lbm[$Obt]; $Obp=$lbu; } else { $lbq=$lbu; } } else { $lbu=($Obq+$lbr)/2; if ($lbn>$lbu) { $lbt |= self::$lbm[$Obt]; $Obq=$lbu; } else { $lbr=$lbu; } } $Obs=!$Obs; if ($Obt<4) { $Obt ++; } else { $Obr[]=self::$la[$lbt]; $lbs=max($lbq-$Obp,$lbr-$Obq); $Obt=0; $lbt=0; } } return join("",$Obr); } public static function Obu($Obr) { $Obp=-0264; $lbq=0264; $Obq=-0132; $lbr=0132; $lbv=0132; $Obv=0264; for ($O4a=0,$lbw=strlen($Obr); $O4a<$lbw; $O4a ++) { $l96=strpos(self::$la,$Obr[$O4a]); if (1&$O4a) { if (020&$l96) { $Obq=($Obq+$lbr)/2; } else { $lbr=($Obq+$lbr)/2; } if (8&$l96) { $Obp=($Obp+$lbq)/2; } else { $lbq=($Obp+$lbq)/2; } if (4&$l96) { $Obq=($Obq+$lbr)/2; } else { $lbr=($Obq+$lbr)/2; } if (2&$l96) { $Obp=($Obp+$lbq)/2; } else { $lbq=($Obp+$lbq)/2; } if (1&$l96) { $Obq=($Obq+$lbr)/2; } else { $lbr=($Obq+$lbr)/2; } $lbv /= 8; $Obv /= 4; } else { if (020&$l96) { $Obp=($Obp+$lbq)/2; } else { $lbq=($Obp+$lbq)/2; } if (8&$l96) { $Obq=($Obq+$lbr)/2; } else { $lbr=($Obq+$lbr)/2; } if (4&$l96) { $Obp=($Obp+$lbq)/2; } else { $lbq=($Obp+$lbq)/2; } if (2&$l96) { $Obq=($Obq+$lbr)/2; } else { $lbr=($Obq+$lbr)/2; } if (1&$l96) { $Obp=($Obp+$lbq)/2; } else { $lbq=($Obp+$lbq)/2; } $lbv /= 4; $Obv /= 8; } } $lbn=round(($Obq+$lbr)/2,max(1,-round(log10($lbv)))-1); $Obn=round(($Obp+$lbq)/2,max(1,-round(log10($Obv)))-1); return array($lbn,$Obn); } }